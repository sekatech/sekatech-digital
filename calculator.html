<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StechDigitall - Professional Tile Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #1a365d;
            --secondary-color: #2d74da;
            --accent-color: #e53e3e;
            --light-color: #f7fafc;
            --dark-color: #2d3748;
            --success-color: #38a169;
            --warning-color: #dd6b20;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
            --border-radius: 10px;
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), #2c5282);
            color: white;
            padding: 1.8rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .logo-icon {
            font-size: 2.8rem;
            color: var(--accent-color);
            background: white;
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .logo-text h1 {
            font-size: 2rem;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .logo-text span {
            color: #ffd166;
            font-weight: 700;
        }

        .brand-tagline {
            font-size: 0.95rem;
            opacity: 0.9;
            margin-top: 8px;
            color: #cbd5e0;
        }

        /* Main Layout */
        .main-content {
            display: grid;
            grid-template-columns: 1.1fr 0.9fr;
            gap: 35px;
            margin: 35px 0;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Calculator Panel */
        .calculator-panel {
            background: white;
            border-radius: var(--border-radius);
            padding: 35px;
            box-shadow: var(--shadow);
            border: 1px solid #e2e8f0;
        }

        .panel-title {
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 18px;
            margin-bottom: 30px;
            font-size: 1.7rem;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
        }

        .panel-title i {
            color: var(--secondary-color);
            background: #ebf8ff;
            padding: 10px;
            border-radius: 10px;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 28px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--primary-color);
            font-size: 1.05rem;
        }

        .form-label.required::after {
            content: " *";
            color: var(--accent-color);
        }

        .form-input {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            font-size: 1.05rem;
            transition: var(--transition);
            background: #f8fafc;
        }

        .form-input:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(45, 116, 218, 0.15);
            background: white;
        }

        .input-with-unit {
            position: relative;
        }

        .unit {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #718096;
            font-weight: 600;
            background: #edf2f7;
            padding: 2px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* Material Inputs */
        .material-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .material-option {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            padding: 20px;
            transition: var(--transition);
        }

        .material-option:hover {
            border-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .material-option h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .material-option h4 i {
            color: var(--secondary-color);
        }

        /* Surface Area Inputs */
        .surface-areas {
            margin-top: 25px;
        }

        .area-item {
            background: linear-gradient(135deg, #f8fafc, #edf2f7);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid var(--secondary-color);
            border-right: 1px solid #e2e8f0;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }

        .area-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary-color), transparent);
        }

        .area-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .area-title {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .area-title i {
            color: var(--secondary-color);
        }

        .remove-area {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
        }

        .remove-area:hover {
            background: #c53030;
            transform: rotate(90deg);
        }

        /* Client Notes */
        .client-notes {
            margin-top: 30px;
        }

        .notes-textarea {
            width: 100%;
            padding: 18px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            font-size: 1.05rem;
            min-height: 150px;
            resize: vertical;
            transition: var(--transition);
            background: #f8fafc;
            font-family: inherit;
        }

        .notes-textarea:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(45, 116, 218, 0.15);
            background: white;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--secondary-color), #1e4bb6);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 18px 35px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            margin-top: 25px;
            box-shadow: 0 4px 12px rgba(45, 116, 218, 0.2);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #1e4bb6, var(--secondary-color));
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(45, 116, 218, 0.3);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-color);
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius);
            padding: 14px 28px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .btn-secondary:hover {
            background: #f7fafc;
            border-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Results Panel */
        .results-panel {
            background: white;
            border-radius: var(--border-radius);
            padding: 35px;
            box-shadow: var(--shadow);
            border: 1px solid #e2e8f0;
            position: sticky;
            top: 120px;
            height: fit-content;
        }

        .results-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 35px;
        }

        .result-card {
            background: linear-gradient(135deg, #f8fafc, #edf2f7);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            border-top: 4px solid var(--secondary-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }

        .result-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            margin: 15px 0 5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .result-label {
            font-size: 1rem;
            color: #4a5568;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-unit {
            font-size: 1.1rem;
            color: var(--secondary-color);
            font-weight: 700;
            margin-top: 5px;
        }

        /* Breakdown Section */
        .breakdown-section {
            margin-top: 35px;
        }

        .breakdown-header {
            color: var(--primary-color);
            margin-bottom: 25px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 18px 0;
            border-bottom: 2px solid #e2e8f0;
            align-items: center;
        }

        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: 800;
            color: var(--primary-color);
            font-size: 1.3rem;
            background: linear-gradient(135deg, #f8fafc, #e6fffa);
            padding: 22px 15px;
            border-radius: var(--border-radius);
            margin-top: 10px;
        }

        .breakdown-label {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #4a5568;
        }

        .breakdown-label i {
            color: var(--secondary-color);
            font-size: 1.2rem;
        }

        /* Materials Summary */
        .materials-summary {
            background: linear-gradient(135deg, #f0fff4, #e6fffa);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 35px;
            border: 2px solid #c6f6d5;
        }

        .materials-title {
            color: #22543d;
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .material-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #c6f6d5;
        }

        .material-item:last-child {
            border-bottom: none;
        }

        /* Input Guide Section */
        .input-guide {
            background: linear-gradient(135deg, #fffaf0, #feebc8);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 35px;
            border: 2px solid #fbd38d;
        }

        .guide-title {
            color: #744210;
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .guide-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #fbd38d;
        }

        .guide-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .guide-icon {
            background: #dd6b20;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 1.1rem;
        }

        .guide-text h4 {
            color: #744210;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--primary-color), #1a202c);
            color: white;
            padding: 50px 0 25px;
            margin-top: 70px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: #ffd166;
            position: relative;
            padding-bottom: 15px;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 3px;
        }

        .footer-section p {
            opacity: 0.9;
            margin-bottom: 18px;
            line-height: 1.8;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .contact-item i {
            color: var(--accent-color);
            font-size: 1.2rem;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.7;
            font-size: 0.95rem;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 25px;
            }
            
            .results-panel {
                position: static;
            }
            
            .results-summary {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .calculator-panel, .results-panel {
                padding: 25px;
            }
            
            .panel-title {
                font-size: 1.5rem;
            }
            
            .result-value {
                font-size: 2rem;
            }
            
            .results-summary {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        /* Loading Animation */
        .loading-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* PDF Preview Modal */
        .pdf-preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .pdf-preview-content {
            background: white;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }

        .close-preview {
            position: absolute;
            top: 20px;
            right: 25px;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
            z-index: 1001;
        }

        .close-preview:hover {
            background: #c53030;
            transform: rotate(90deg);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--success-color);
            color: white;
            padding: 18px 25px;
            border-radius: var(--border-radius);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s ease;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast i {
            font-size: 1.5rem;
        }

        /* Stepper */
        .stepper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
        }

        .stepper::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background: #e2e8f0;
            z-index: 1;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
        }

        .step-icon {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #718096;
            margin-bottom: 12px;
            border: 3px solid white;
            transition: var(--transition);
        }

        .step.active .step-icon {
            background: var(--secondary-color);
            color: white;
            transform: scale(1.1);
        }

        .step.completed .step-icon {
            background: var(--success-color);
            color: white;
        }

        .step-label {
            font-size: 0.9rem;
            color: #718096;
            font-weight: 600;
            text-align: center;
        }

        .step.active .step-label {
            color: var(--secondary-color);
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-cube logo-icon"></i>
                    <div class="logo-text">
                        <h1>StechDigitall <span>PRO TILE CALCULATOR</span></h1>
                        <p class="brand-tagline">Professional tile estimation & material calculation for construction projects</p>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn-secondary" id="guideBtn">
                        <i class="fas fa-question-circle"></i> Quick Guide
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="stepper">
            <div class="step active" id="step1">
                <div class="step-icon">1</div>
                <div class="step-label">Tile Details</div>
            </div>
            <div class="step" id="step2">
                <div class="step-icon">2</div>
                <div class="step-label">Areas</div>
            </div>
            <div class="step" id="step3">
                <div class="step-icon">3</div>
                <div class="step-label">Materials</div>
            </div>
            <div class="step" id="step4">
                <div class="step-icon">4</div>
                <div class="step-label">Results</div>
            </div>
        </div>

        <div class="main-content">
            <!-- Calculator Panel -->
            <div class="calculator-panel">
                <h2 class="panel-title">
                    <i class="fas fa-calculator"></i> Tile & Material Specifications
                </h2>
                
                <form id="tileCalculatorForm">
                    <!-- Tile Specifications -->
                    <div class="form-group">
                        <h3 style="color: var(--primary-color); margin-bottom: 20px; font-size: 1.3rem;">
                            <i class="fas fa-tile"></i> Tile Dimensions
                        </h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">Tile Length</label>
                                <div class="input-with-unit">
                                    <input type="number" id="tileLength" class="form-input" min="1" max="500" value="30" step="0.1" required>
                                    <span class="unit">cm</span>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">Tile Width</label>
                                <div class="input-with-unit">
                                    <input type="number" id="tileWidth" class="form-input" min="1" max="500" value="30" step="0.1" required>
                                    <span class="unit">cm</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">Tiles per Carton</label>
                                <div class="input-with-unit">
                                    <input type="number" id="tilesPerCarton" class="form-input" min="1" max="1000" value="12" required>
                                    <span class="unit">tiles</span>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label required">Carton Price</label>
                                <div class="input-with-unit">
                                    <input type="number" id="cartonPrice" class="form-input" min="0" max="1000000" value="25000" step="100" required>
                                    <span class="unit">FCFA</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Waste Factor -->
                    <div class="form-group">
                        <h3 style="color: var(--primary-color); margin-bottom: 15px; font-size: 1.3rem;">
                            <i class="fas fa-exclamation-triangle"></i> Waste Factor
                        </h3>
                        <div class="material-options">
                            <div class="material-option">
                                <input type="radio" id="waste5" name="waste" value="5" checked>
                                <label for="waste5" style="cursor: pointer;">
                                    <h4><i class="fas fa-check-circle"></i> Low Waste (5%)</h4>
                                    <p>Simple layout, large rooms, minimal cutting</p>
                                </label>
                            </div>
                            <div class="material-option">
                                <input type="radio" id="waste10" name="waste" value="10">
                                <label for="waste10" style="cursor: pointer;">
                                    <h4><i class="fas fa-exclamation-circle"></i> Standard (10%)</h4>
                                    <p>Average room layout, some cutting required</p>
                                </label>
                            </div>
                            <div class="material-option">
                                <input type="radio" id="waste15" name="waste" value="15">
                                <label for="waste15" style="cursor: pointer;">
                                    <h4><i class="fas fa-cut"></i> High Waste (15%)</h4>
                                    <p>Complex layout, many cuts, diagonal laying</p>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Surface Areas -->
                    <div class="form-group">
                        <h2 class="panel-title" style="margin-top: 40px; margin-bottom: 25px;">
                            <i class="fas fa-ruler-combined"></i> Surface Areas
                        </h2>
                        
                        <div class="surface-areas" id="surfaceAreas">
                            <div class="area-item">
                                <div class="area-header">
                                    <div class="area-title">
                                        <i class="fas fa-home"></i> Main Area
                                    </div>
                                    <button type="button" class="remove-area" disabled>
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label required">Length</label>
                                        <div class="input-with-unit">
                                            <input type="number" class="form-input area-length" min="0.1" max="1000" value="5" step="0.01" required>
                                            <span class="unit">m</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label required">Width</label>
                                        <div class="input-with-unit">
                                            <input type="number" class="form-input area-width" min="0.1" max="1000" value="4" step="0.01" required>
                                            <span class="unit">m</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Area Name</label>
                                    <input type="text" class="form-input area-name" placeholder="e.g., Living Room">
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="btn-secondary" id="addAreaBtn" style="width: 100%; margin-top: 15px;">
                            <i class="fas fa-plus-circle"></i> Add Another Area
                        </button>
                    </div>
                    
                    <!-- Construction Materials -->
                    <div class="form-group">
                        <h2 class="panel-title" style="margin-top: 40px; margin-bottom: 25px;">
                            <i class="fas fa-tools"></i> Construction Materials
                        </h2>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Sand Quantity</label>
                                <div class="input-with-unit">
                                    <input type="number" id="sandQuantity" class="form-input" min="0" max="1000" value="2" step="0.1">
                                    <span class="unit">m³</span>
                                </div>
                                <p style="font-size: 0.9rem; color: #718096; margin-top: 8px;">Cubic meters of sand needed</p>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Cement Cole</label>
                                <div class="input-with-unit">
                                    <input type="number" id="cementCole" class="form-input" min="0" max="1000" value="15" step="0.5">
                                    <span class="unit">bags</span>
                                </div>
                                <p style="font-size: 0.9rem; color: #718096; margin-top: 8px;">Number of cement cole bags</p>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Ordinary Cement</label>
                                <div class="input-with-unit">
                                    <input type="number" id="ordinaryCement" class="form-input" min="0" max="1000" value="10" step="0.5">
                                    <span class="unit">bags</span>
                                </div>
                                <p style="font-size: 0.9rem; color: #718096; margin-top: 8px;">Number of ordinary cement bags</p>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Grout Width</label>
                                <div class="input-with-unit">
                                    <input type="number" id="groutWidth" class="form-input" min="0" max="50" value="3" step="0.5">
                                    <span class="unit">mm</span>
                                </div>
                                <p style="font-size: 0.9rem; color: #718096; margin-top: 8px;">Width between tiles</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Client Notes -->
                    <div class="form-group client-notes">
                        <h2 class="panel-title" style="margin-top: 40px; margin-bottom: 25px;">
                            <i class="fas fa-sticky-note"></i> Client Notes & Instructions
                        </h2>
                        
                        <textarea class="notes-textarea" id="clientNotes" placeholder="Add notes for your client (optional). This will appear on the professional PDF estimate. You can include installation instructions, payment terms, project timeline, or any special considerations."></textarea>
                    </div>
                    
                    <button type="submit" class="btn-primary" id="calculateBtn">
                        <i class="fas fa-calculator"></i> Calculate All Requirements
                    </button>
                </form>
            </div>
            
            <!-- Results Panel -->
            <div class="results-panel">
                <h2 class="panel-title">
                    <i class="fas fa-chart-bar"></i> Calculation Results
                </h2>
                
                <div id="resultsPlaceholder">
                    <div style="text-align: center; padding: 50px 20px; color: #718096;">
                        <i class="fas fa-calculator" style="font-size: 4rem; margin-bottom: 25px; color: #e2e8f0;"></i>
                        <h3 style="color: var(--primary-color); margin-bottom: 15px;">Ready for Calculation</h3>
                        <p>Complete the form with your project details and click "Calculate All Requirements" to see detailed results.</p>
                    </div>
                </div>
                
                <div id="resultsContent" style="display: none;">
                    <!-- Summary Cards -->
                    <div class="results-summary fade-in">
                        <div class="result-card">
                            <div class="result-label">Total Area</div>
                            <div class="result-value" id="totalArea">0</div>
                            <div class="result-unit">m²</div>
                        </div>
                        <div class="result-card">
                            <div class="result-label">Tiles Needed</div>
                            <div class="result-value" id="totalTiles">0</div>
                            <div class="result-unit">tiles</div>
                        </div>
                        <div class="result-card">
                            <div class="result-label">Cartons Needed</div>
                            <div class="result-value" id="totalCartons">0</div>
                            <div class="result-unit">cartons</div>
                        </div>
                        <div class="result-card">
                            <div class="result-label">Total Cost</div>
                            <div class="result-value" id="totalCost">0</div>
                            <div class="result-unit">FCFA</div>
                        </div>
                    </div>
                    
                    <!-- Cost Breakdown -->
                    <div class="breakdown-section fade-in">
                        <h3 class="breakdown-header">
                            <i class="fas fa-money-bill-wave"></i> Cost Breakdown
                        </h3>
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-tile"></i>
                                <span>Tile Cost</span>
                            </div>
                            <span id="tileCost" style="font-weight: 600;">0 FCFA</span>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>Waste Factor (<span id="wastePercent">0</span>%)</span>
                            </div>
                            <span id="wasteCost" style="color: var(--accent-color); font-weight: 600;">0 FCFA</span>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-file-invoice-dollar"></i>
                                <span>Total Estimated Cost</span>
                            </div>
                            <span id="estimatedCost" style="color: var(--success-color);">0 FCFA</span>
                        </div>
                    </div>
                    
                    <!-- Materials Summary -->
                    <div class="materials-summary fade-in">
                        <h3 class="materials-title">
                            <i class="fas fa-tools"></i> Required Materials
                        </h3>
                        <div class="material-item">
                            <span>Sand</span>
                            <span id="sandResult" style="font-weight: 600;">0 m³</span>
                        </div>
                        <div class="material-item">
                            <span>Cement Cole</span>
                            <span id="cementColeResult" style="font-weight: 600;">0 bags</span>
                        </div>
                        <div class="material-item">
                            <span>Ordinary Cement</span>
                            <span id="ordinaryCementResult" style="font-weight: 600;">0 bags</span>
                        </div>
                        <div class="material-item">
                            <span>Total Cement Bags</span>
                            <span id="totalCement" style="font-weight: 700; color: var(--primary-color);">0 bags</span>
                        </div>
                    </div>
                    
                    <!-- Input Guide -->
                    <div class="input-guide fade-in">
                        <h3 class="guide-title">
                            <i class="fas fa-info-circle"></i> Required Information
                        </h3>
                        <div class="guide-item">
                            <div class="guide-icon">1</div>
                            <div class="guide-text">
                                <h4>Tile Specifications</h4>
                                <p>Enter tile dimensions (length & width in cm), tiles per carton, and carton price in FCFA.</p>
                            </div>
                        </div>
                        <div class="guide-item">
                            <div class="guide-icon">2</div>
                            <div class="guide-text">
                                <h4>Surface Areas</h4>
                                <p>Add all areas to be tiled with length and width in meters. Name each area for reference.</p>
                            </div>
                        </div>
                        <div class="guide-item">
                            <div class="guide-icon">3</div>
                            <div class="guide-text">
                                <h4>Materials (Optional)</h4>
                                <p>Specify sand quantity (m³), cement cole bags, ordinary cement bags, and grout width (mm).</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 15px; margin-top: 35px;">
                        <button class="btn-primary" id="generatePdfBtn" style="flex: 1;">
                            <i class="fas fa-file-pdf"></i> Generate Professional PDF
                        </button>
                        <button class="btn-secondary" id="resetBtn">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- PDF Preview Modal -->
    <div class="pdf-preview-modal" id="pdfPreviewModal">
        <div class="pdf-preview-content" id="pdfPreviewContent">
            <button class="close-preview" id="closePreviewBtn">
                <i class="fas fa-times"></i>
            </button>
            <!-- PDF content will be generated here -->
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Calculation completed successfully!</span>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About StechDigitall</h3>
                    <p>StechDigitall provides professional construction estimation tools for architects, contractors, and DIY enthusiasts across West Africa.</p>
                    <p>Our tile calculator is optimized for accurate material estimation in CFA Franc currency.</p>
                </div>
                <div class="footer-section">
                    <h3>Calculation Methodology</h3>
                    <p>• Accurate tile count with waste factor</p>
                    <p>• Material requirements for sand and cement</p>
                    <p>• Professional PDF estimation with client notes</p>
                    <p>• CFA Franc currency calculations</p>
                </div>
                <div class="footer-section">
                    <h3>Contact & Support</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>support@stechdigitall.ink</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+225 27 22 44 55 66</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Abidjan, Côte d'Ivoire</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-globe-africa"></i>
                            <span>www.stechdigitall.ink</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 StechDigitall.ink | Professional Tile Calculator v3.0 | All calculations are estimates. Recommended to add 5-10% extra materials.</p>
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const tileCalculatorForm = document.getElementById('tileCalculatorForm');
        const surfaceAreasContainer = document.getElementById('surfaceAreas');
        const addAreaBtn = document.getElementById('addAreaBtn');
        const calculateBtn = document.getElementById('calculateBtn');
        const generatePdfBtn = document.getElementById('generatePdfBtn');
        const resetBtn = document.getElementById('resetBtn');
        const guideBtn = document.getElementById('guideBtn');
        const pdfPreviewModal = document.getElementById('pdfPreviewModal');
        const pdfPreviewContent = document.getElementById('pdfPreviewContent');
        const closePreviewBtn = document.getElementById('closePreviewBtn');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        
        // Results elements
        const resultsPlaceholder = document.getElementById('resultsPlaceholder');
        const resultsContent = document.getElementById('resultsContent');
        const totalAreaEl = document.getElementById('totalArea');
        const totalTilesEl = document.getElementById('totalTiles');
        const totalCartonsEl = document.getElementById('totalCartons');
        const totalCostEl = document.getElementById('totalCost');
        const tileCostEl = document.getElementById('tileCost');
        const wastePercentEl = document.getElementById('wastePercent');
        const wasteCostEl = document.getElementById('wasteCost');
        const estimatedCostEl = document.getElementById('estimatedCost');
        const sandResultEl = document.getElementById('sandResult');
        const cementColeResultEl = document.getElementById('cementColeResult');
        const ordinaryCementResultEl = document.getElementById('ordinaryCementResult');
        const totalCementEl = document.getElementById('totalCement');
        
        // Stepper elements
        const steps = document.querySelectorAll('.step');
        
        // Calculation Variables
        let areaCounter = 1;
        let calculationResults = null;
        
        // Initialize the app
        function initApp() {
            // Add event listeners
            addAreaBtn.addEventListener('click', addNewArea);
            tileCalculatorForm.addEventListener('submit', handleFormSubmit);
            generatePdfBtn.addEventListener('click', generateProfessionalPDF);
            resetBtn.addEventListener('click', handleReset);
            guideBtn.addEventListener('click', showQuickGuide);
            closePreviewBtn.addEventListener('click', () => pdfPreviewModal.style.display = 'none');
            
            // Close modal when clicking outside
            pdfPreviewModal.addEventListener('click', function(e) {
                if (e.target === pdfPreviewModal) {
                    pdfPreviewModal.style.display = 'none';
                }
            });
            
            // Auto-calculate on input change
            const autoCalculateInputs = document.querySelectorAll('#tileCalculatorForm input, #tileCalculatorForm textarea');
            autoCalculateInputs.forEach(input => {
                input.addEventListener('change', function() {
                    if (tileCalculatorForm.checkValidity()) {
                        performCalculation();
                        updateStepper();
                    }
                });
            });
            
            // Perform initial calculation
            performCalculation();
            updateStepper();
            
            // Show welcome toast
            showToast('Welcome to StechDigitall Tile Calculator! Fill in your project details to begin.');
        }
        
        // Update stepper
        function updateStepper() {
            // Reset all steps
            steps.forEach(step => {
                step.classList.remove('active', 'completed');
            });
            
            // Check which sections are filled
            const tileLength = document.getElementById('tileLength').value;
            const tileWidth = document.getElementById('tileWidth').value;
            const tilesPerCarton = document.getElementById('tilesPerCarton').value;
            const cartonPrice = document.getElementById('cartonPrice').value;
            
            if (tileLength && tileWidth && tilesPerCarton && cartonPrice) {
                steps[0].classList.add('completed');
                steps[1].classList.add('active');
                
                const areaItems = document.querySelectorAll('.area-item');
                if (areaItems.length > 0) {
                    let areasFilled = true;
                    areaItems.forEach(item => {
                        const length = item.querySelector('.area-length').value;
                        const width = item.querySelector('.area-width').value;
                        if (!length || !width) areasFilled = false;
                    });
                    
                    if (areasFilled) {
                        steps[1].classList.add('completed');
                        steps[2].classList.add('active');
                        
                        // Check if calculation was performed
                        if (calculationResults) {
                            steps[2].classList.add('completed');
                            steps[3].classList.add('active');
                        }
                    }
                }
            }
        }
        
        // Add new area input
        function addNewArea() {
            areaCounter++;
            const areaHTML = `
                <div class="area-item fade-in">
                    <div class="area-header">
                        <div class="area-title">
                            <i class="fas fa-layer-group"></i> Area #${areaCounter}
                        </div>
                        <button type="button" class="remove-area">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Length</label>
                            <div class="input-with-unit">
                                <input type="number" class="form-input area-length" min="0.1" max="1000" value="3" step="0.01" required>
                                <span class="unit">m</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label required">Width</label>
                            <div class="input-with-unit">
                                <input type="number" class="form-input area-width" min="0.1" max="1000" value="3" step="0.01" required>
                                <span class="unit">m</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Area Name</label>
                        <input type="text" class="form-input area-name" placeholder="e.g., Kitchen, Bathroom, etc.">
                    </div>
                </div>
            `;
            
            surfaceAreasContainer.insertAdjacentHTML('beforeend', areaHTML);
            
            // Add event listeners to the new inputs
            const newArea = surfaceAreasContainer.lastElementChild;
            const newInputs = newArea.querySelectorAll('.form-input');
            newInputs.forEach(input => {
                input.addEventListener('change', function() {
                    if (tileCalculatorForm.checkValidity()) {
                        performCalculation();
                        updateStepper();
                    }
                });
            });
            
            // Add event listener to remove button
            const removeBtn = newArea.querySelector('.remove-area');
            removeBtn.addEventListener('click', function() {
                this.closest('.area-item').remove();
                updateAreaNumbers();
                performCalculation();
                updateStepper();
            });
            
            // Enable remove buttons if there's more than one area
            updateRemoveButtons();
            
            performCalculation();
            updateStepper();
        }
        
        // Update area numbers after removal
        function updateAreaNumbers() {
            const areaItems = document.querySelectorAll('.area-item');
            areaCounter = areaItems.length;
            
            areaItems.forEach((item, index) => {
                const title = item.querySelector('.area-title');
                title.innerHTML = `<i class="fas fa-layer-group"></i> ${index === 0 ? 'Main Area' : 'Area #' + (index + 1)}`;
            });
            
            updateRemoveButtons();
        }
        
        // Enable/disable remove buttons based on area count
        function updateRemoveButtons() {
            const removeButtons = document.querySelectorAll('.remove-area');
            if (removeButtons.length <= 1) {
                removeButtons.forEach(btn => btn.disabled = true);
            } else {
                removeButtons.forEach(btn => btn.disabled = false);
            }
        }
        
        // Handle form submission
        function handleFormSubmit(e) {
            e.preventDefault();
            performCalculation();
            updateStepper();
            showToast('Calculation completed successfully!');
        }
        
        // Perform tile calculation
        function performCalculation() {
            // Get tile specifications
            const tileLength = parseFloat(document.getElementById('tileLength').value) / 100; // Convert to meters
            const tileWidth = parseFloat(document.getElementById('tileWidth').value) / 100; // Convert to meters
            const tilesPerCarton = parseInt(document.getElementById('tilesPerCarton').value);
            const cartonPrice = parseFloat(document.getElementById('cartonPrice').value);
            
            // Get waste factor
            const wasteFactor = parseFloat(document.querySelector('input[name="waste"]:checked').value) / 100;
            
            // Get grout width (convert mm to meters)
            const groutWidth = parseFloat(document.getElementById('groutWidth').value) / 1000;
            
            // Get material quantities
            const sandQuantity = parseFloat(document.getElementById('sandQuantity').value) || 0;
            const cementCole = parseFloat(document.getElementById('cementCole').value) || 0;
            const ordinaryCement = parseFloat(document.getElementById('ordinaryCement').value) || 0;
            
            // Calculate total surface area
            let totalArea = 0;
            const areaDetails = [];
            
            const areaItems = document.querySelectorAll('.area-item');
            areaItems.forEach((item, index) => {
                const length = parseFloat(item.querySelector('.area-length').value);
                const width = parseFloat(item.querySelector('.area-width').value);
                const name = item.querySelector('.area-name').value || (index === 0 ? 'Main Area' : `Area ${index + 1}`);
                
                const area = length * width;
                totalArea += area;
                
                areaDetails.push({
                    name,
                    length,
                    width,
                    area
                });
            });
            
            // Calculate tile area with grout spacing
            const tileAreaWithGrout = (tileLength + groutWidth) * (tileWidth + groutWidth);
            
            // Calculate number of tiles needed (without waste)
            let tilesNeededWithoutWaste = totalArea / tileAreaWithGrout;
            
            // Apply waste factor
            let tilesNeededWithWaste = tilesNeededWithoutWaste * (1 + wasteFactor);
            
            // Round up to nearest whole tile
            tilesNeededWithWaste = Math.ceil(tilesNeededWithWaste);
            
            // Calculate number of cartons needed
            let cartonsNeeded = Math.ceil(tilesNeededWithWaste / tilesPerCarton);
            
            // Calculate costs
            const tileCost = cartonsNeeded * cartonPrice;
            const wasteTiles = tilesNeededWithWaste - tilesNeededWithoutWaste;
            const wasteCost = Math.ceil(wasteTiles / tilesPerCarton) * cartonPrice;
            const totalCost = tileCost;
            
            // Calculate cement totals
            const totalCementBags = cementCole + ordinaryCement;
            
            // Calculate recommended materials based on area
            const recommendedSand = Math.max(sandQuantity, totalArea * 0.05); // At least 5% of area
            const recommendedCement = Math.max(totalCementBags, Math.ceil(totalArea * 0.4)); // At least 0.4 bags per m²
            
            // Store calculation results
            calculationResults = {
                tileLength: tileLength * 100, // Back to cm
                tileWidth: tileWidth * 100, // Back to cm
                tileArea: tileLength * tileWidth,
                tileAreaWithGrout,
                tilesPerCarton,
                cartonPrice,
                wasteFactor: wasteFactor * 100,
                groutWidth: groutWidth * 1000, // Back to mm
                totalArea,
                areaDetails,
                tilesNeededWithoutWaste,
                tilesNeededWithWaste,
                cartonsNeeded,
                tileCost,
                wasteTiles,
                wasteCost,
                totalCost,
                sandQuantity: sandQuantity,
                cementCole,
                ordinaryCement,
                totalCementBags,
                recommendedSand,
                recommendedCement,
                clientNotes: document.getElementById('clientNotes').value
            };
            
            // Update UI with results
            updateResultsUI();
        }
        
        // Update results UI
        function updateResultsUI() {
            if (!calculationResults) return;
            
            // Show results content, hide placeholder
            resultsPlaceholder.style.display = 'none';
            resultsContent.style.display = 'block';
            
            // Format numbers
            const formatNumber = (num, decimals = 2) => {
                return num.toLocaleString(undefined, {
                    minimumFractionDigits: decimals,
                    maximumFractionDigits: decimals
                });
            };
            
            const formatCurrency = (num) => {
                return `${num.toLocaleString(undefined, {
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                })} FCFA`;
            };
            
            // Update results
            totalAreaEl.textContent = formatNumber(calculationResults.totalArea);
            totalTilesEl.textContent = formatNumber(calculationResults.tilesNeededWithWaste, 0);
            totalCartonsEl.textContent = formatNumber(calculationResults.cartonsNeeded, 0);
            totalCostEl.textContent = formatCurrency(calculationResults.totalCost);
            
            tileCostEl.textContent = formatCurrency(calculationResults.tileCost);
            wastePercentEl.textContent = formatNumber(calculationResults.wasteFactor, 0);
            wasteCostEl.textContent = formatCurrency(calculationResults.wasteCost);
            estimatedCostEl.textContent = formatCurrency(calculationResults.totalCost);
            
            sandResultEl.textContent = formatNumber(calculationResults.sandQuantity, 1) + " m³";
            cementColeResultEl.textContent = formatNumber(calculationResults.cementCole, 1) + " bags";
            ordinaryCementResultEl.textContent = formatNumber(calculationResults.ordinaryCement, 1) + " bags";
            totalCementEl.textContent = formatNumber(calculationResults.totalCementBags, 1) + " bags";
        }
        
        // Show toast notification
        function showToast(message) {
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Show quick guide
        function showQuickGuide() {
            alert(`StechDigitall Tile Calculator - Quick Guide

1. TILE SPECIFICATIONS:
   • Enter tile dimensions in centimeters
   • Set tiles per carton and carton price in FCFA
   • Select appropriate waste factor

2. SURFACE AREAS:
   • Add all areas to be tiled
   • Enter dimensions in meters
   • Name each area for reference

3. MATERIALS (Optional):
   • Specify sand quantity in cubic meters
   • Enter number of cement cole bags
   • Enter number of ordinary cement bags
   • Set grout width in millimeters

4. CLIENT NOTES:
   • Add professional notes for your client
   • These will appear on the PDF estimate

5. RESULTS & PDF:
   • View detailed calculation results
   • Generate professional PDF estimate
   • Print or save as PDF for your client

All calculations are in CFA Francs (FCFA).`);
        }
        
        // Handle reset
        function handleReset() {
            if (confirm('Are you sure you want to reset the calculator? All entered data will be lost.')) {
                // Reset form
                tileCalculatorForm.reset();
                
                // Reset area counter and remove all but first area
                areaCounter = 1;
                const areaItems = document.querySelectorAll('.area-item');
                areaItems.forEach((item, index) => {
                    if (index > 0) {
                        item.remove();
                    } else {
                        // Reset first area to default values
                        item.querySelector('.area-length').value = 5;
                        item.querySelector('.area-width').value = 4;
                        item.querySelector('.area-name').value = '';
                    }
                });
                
                // Update area numbers
                updateAreaNumbers();
                
                // Reset results display
                resultsPlaceholder.style.display = 'block';
                resultsContent.style.display = 'none';
                
                // Clear calculation results
                calculationResults = null;
                
                // Reset stepper
                steps.forEach(step => {
                    step.classList.remove('active', 'completed');
                });
                steps[0].classList.add('active');
                
                // Perform initial calculation
                performCalculation();
                
                showToast('Calculator has been reset.');
            }
        }
        
        // Generate professional PDF
        function generateProfessionalPDF() {
            if (!calculationResults) {
                showToast('Please calculate first before generating PDF.');
                return;
            }
            
            // Show loading
            generatePdfBtn.innerHTML = '<div class="loading-spinner"></div> Generating PDF...';
            generatePdfBtn.disabled = true;
            
            // Create PDF preview
            createPdfPreview();
            
            // Simulate PDF generation delay
            setTimeout(() => {
                pdfPreviewModal.style.display = 'flex';
                generatePdfBtn.innerHTML = '<i class="fas fa-file-pdf"></i> Generate Professional PDF';
                generatePdfBtn.disabled = false;
                showToast('Professional PDF generated successfully!');
            }, 800);
        }
        
        // Create PDF preview
        function createPdfPreview() {
            const formatNumber = (num, decimals = 2) => {
                return num.toLocaleString(undefined, {
                    minimumFractionDigits: decimals,
                    maximumFractionDigits: decimals
                });
            };
            
            const formatCurrency = (num) => {
                return `${num.toLocaleString(undefined, {
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                })} FCFA`;
            };
            
            const date = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Generate PDF preview HTML
            pdfPreviewContent.innerHTML = `
                <div style="font-family: 'Segoe UI', Arial, sans-serif; color: #1a365d;">
                    <!-- Header -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 3px solid #2d74da; padding-bottom: 20px;">
                        <div>
                            <h1 style="color: #1a365d; margin: 0; font-size: 28px;">PROFESSIONAL TILE ESTIMATE</h1>
                            <p style="color: #4a5568; margin: 5px 0 0; font-size: 16px;">StechDigitall Construction Solutions</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="background: #1a365d; color: white; padding: 12px 20px; border-radius: 8px; display: inline-block;">
                                <p style="margin: 0; font-weight: bold; font-size: 14px;">ESTIMATE #${Math.floor(Math.random() * 10000)}</p>
                                <p style="margin: 5px 0 0; font-size: 14px;">${date}</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Project Summary -->
                    <div style="background: #f7fafc; padding: 25px; border-radius: 10px; margin-bottom: 30px; border-left: 5px solid #2d74da;">
                        <h2 style="color: #1a365d; margin-top: 0; margin-bottom: 20px; font-size: 22px;">
                            <i class="fas fa-clipboard-list" style="margin-right: 10px;"></i>Project Summary
                        </h2>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            <div>
                                <p style="margin: 8px 0; color: #4a5568;"><strong>Total Area:</strong> ${formatNumber(calculationResults.totalArea)} m²</p>
                                <p style="margin: 8px 0; color: #4a5568;"><strong>Tile Size:</strong> ${formatNumber(calculationResults.tileLength, 1)} × ${formatNumber(calculationResults.tileWidth, 1)} cm</p>
                                <p style="margin: 8px 0; color: #4a5568;"><strong>Tiles per Carton:</strong> ${calculationResults.tilesPerCarton}</p>
                            </div>
                            <div>
                                <p style="margin: 8px 0; color: #4a5568;"><strong>Waste Factor:</strong> ${formatNumber(calculationResults.wasteFactor, 0)}%</p>
                                <p style="margin: 8px 0; color: #4a5568;"><strong>Grout Width:</strong> ${formatNumber(calculationResults.groutWidth, 1)} mm</p>
                                <p style="margin: 8px 0; color: #4a5568;"><strong>Carton Price:</strong> ${formatCurrency(calculationResults.cartonPrice)}</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Area Breakdown -->
                    <div style="margin-bottom: 30px;">
                        <h2 style="color: #1a365d; margin-bottom: 20px; font-size: 22px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px;">
                            <i class="fas fa-ruler-combined" style="margin-right: 10px;"></i>Area Breakdown
                        </h2>
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #2d74da; color: white;">
                                    <th style="padding: 15px; text-align: left;">Area Name</th>
                                    <th style="padding: 15px; text-align: left;">Dimensions (m)</th>
                                    <th style="padding: 15px; text-align: left;">Area (m²)</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${calculationResults.areaDetails.map((area, index) => `
                                    <tr style="${index % 2 === 0 ? 'background: #f7fafc;' : ''}">
                                        <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">${area.name}</td>
                                        <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">${formatNumber(area.length, 2)} × ${formatNumber(area.width, 2)}</td>
                                        <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">${formatNumber(area.area, 2)}</td>
                                    </tr>
                                `).join('')}
                                <tr style="background: #e6fffa; font-weight: bold;">
                                    <td style="padding: 15px;">TOTAL</td>
                                    <td style="padding: 15px;">-</td>
                                    <td style="padding: 15px;">${formatNumber(calculationResults.totalArea)} m²</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Material Requirements -->
                    <div style="margin-bottom: 30px;">
                        <h2 style="color: #1a365d; margin-bottom: 20px; font-size: 22px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px;">
                            <i class="fas fa-tools" style="margin-right: 10px;"></i>Material Requirements
                        </h2>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px;">
                            <div style="background: #f0fff4; padding: 20px; border-radius: 8px; border: 1px solid #c6f6d5;">
                                <h3 style="color: #22543d; margin-top: 0; margin-bottom: 15px;">Tile Requirements</h3>
                                <p style="margin: 10px 0;"><strong>Tiles Needed:</strong> ${formatNumber(calculationResults.tilesNeededWithWaste, 0)} tiles</p>
                                <p style="margin: 10px 0;"><strong>Cartons Needed:</strong> ${formatNumber(calculationResults.cartonsNeeded, 0)} cartons</p>
                                <p style="margin: 10px 0;"><strong>Waste Allowance:</strong> ${formatNumber(calculationResults.wasteTiles, 0)} tiles (${formatNumber(calculationResults.wasteFactor, 0)}%)</p>
                            </div>
                            <div style="background: #fffaf0; padding: 20px; border-radius: 8px; border: 1px solid #fbd38d;">
                                <h3 style="color: #744210; margin-top: 0; margin-bottom: 15px;">Construction Materials</h3>
                                <p style="margin: 10px 0;"><strong>Sand:</strong> ${formatNumber(calculationResults.sandQuantity, 1)} m³</p>
                                <p style="margin: 10px 0;"><strong>Cement Cole:</strong> ${formatNumber(calculationResults.cementCole, 1)} bags</p>
                                <p style="margin: 10px 0;"><strong>Ordinary Cement:</strong> ${formatNumber(calculationResults.ordinaryCement, 1)} bags</p>
                                <p style="margin: 10px 0;"><strong>Total Cement:</strong> ${formatNumber(calculationResults.totalCementBags, 1)} bags</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cost Breakdown -->
                    <div style="margin-bottom: 30px;">
                        <h2 style="color: #1a365d; margin-bottom: 20px; font-size: 22px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px;">
                            <i class="fas fa-money-bill-wave" style="margin-right: 10px;"></i>Cost Breakdown
                        </h2>
                        <table style="width: 100%; border-collapse: collapse;">
                            <tbody>
                                <tr>
                                    <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;"><strong>Tile Cost</strong></td>
                                    <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: right;">${formatCurrency(calculationResults.tileCost)}</td>
                                </tr>
                                <tr>
                                    <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;"><strong>Waste Factor (${formatNumber(calculationResults.wasteFactor, 0)}%)</strong></td>
                                    <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: right; color: #e53e3e;">${formatCurrency(calculationResults.wasteCost)}</td>
                                </tr>
                                <tr style="background: #e6fffa; font-weight: bold;">
                                    <td style="padding: 20px; font-size: 18px;">TOTAL ESTIMATED COST</td>
                                    <td style="padding: 20px; text-align: right; font-size: 18px; color: #38a169;">${formatCurrency(calculationResults.totalCost)}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Client Notes -->
                    ${calculationResults.clientNotes ? `
                    <div style="margin-bottom: 30px;">
                        <h2 style="color: #1a365d; margin-bottom: 15px; font-size: 22px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px;">
                            <i class="fas fa-sticky-note" style="margin-right: 10px;"></i>Client Notes & Instructions
                        </h2>
                        <div style="background: #f7fafc; padding: 25px; border-radius: 8px; border-left: 5px solid #dd6b20;">
                            <p style="margin: 0; color: #4a5568; line-height: 1.8; white-space: pre-line;">${calculationResults.clientNotes}</p>
                        </div>
                    </div>
                    ` : ''}
                    
                    <!-- Recommendations -->
                    <div style="background: #fefcbf; padding: 25px; border-radius: 8px; border: 2px solid #d69e2e; margin-bottom: 30px;">
                        <h2 style="color: #744210; margin-top: 0; margin-bottom: 15px; font-size: 20px;">
                            <i class="fas fa-lightbulb" style="margin-right: 10px;"></i>Professional Recommendations
                        </h2>
                        <ul style="margin: 0; padding-left: 20px; color: #744210;">
                            <li style="margin-bottom: 10px;">Purchase 5-10% extra tiles for breakages and future repairs</li>
                            <li style="margin-bottom: 10px;">Store tiles in a dry, flat area before installation</li>
                            <li style="margin-bottom: 10px;">Use recommended sand/cement ratios for optimal mortar quality</li>
                            <li style="margin-bottom: 10px;">Allow tiles to acclimate to room temperature before installation</li>
                            <li>This estimate is valid for 30 days from the date above</li>
                        </ul>
                    </div>
                    
                    <!-- Footer -->
                    <div style="border-top: 3px solid #1a365d; padding-top: 25px; margin-top: 40px; text-align: center; color: #4a5568;">
                        <h3 style="color: #1a365d; margin-bottom: 15px;">StechDigitall Construction Solutions</h3>
                        <p style="margin: 5px 0;">support@stechdigitall.ink | +225 27 22 44 55 66 | www.stechdigitall.ink</p>
                        <p style="margin: 5px 0; font-size: 14px; color: #718096;">This is a professional estimate. All measurements are approximate. Actual requirements may vary based on site conditions.</p>
                    </div>
                </div>
            `;
        }
        
        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Add event listener to initial remove button (disabled)
        document.querySelector('.remove-area').addEventListener('click', function() {
            if (!this.disabled) {
                this.closest('.area-item').remove();
                updateAreaNumbers();
                performCalculation();
                updateStepper();
            }
        });
    </script>
</body>
</html>
